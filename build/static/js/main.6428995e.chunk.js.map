{"version":3,"sources":["config.js","DB.js","Components.js","Main.js","Details.js","GenerateInvoice.js","InvoicesSummary.js","Invoice.js","AddPerson.js","App.js","serviceWorker.js","index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","DB","props","refreshCache","id","item","path","data","firebase","database","ref","on","snapshot","a","val","localStorage","setItem","JSON","stringify","Promise","resolve","reject","setTimeout","get","cache","getItem","parse","persons","building","array","Object","keys","forEach","i","split","push","profiles","profile","parseId","idParts","length","floor","parseInt","door","updateUser","Array","isArray","set","error","update","getExpectedRent","person","month","expectedRent","s","moment","startdate","isSameOrBefore","add","isAfter","startOf","year","Math","expectedSubTotal","housing","base_rent","pow","others","invoices","getInvoiceSum","getDues","returnStatusOnly","getAllItems","paidRent","payment_history","dueTotal","returnValue","p","due_i","getPaidRent","getLess","getSum","sum","less","e","dueForMonth","amount","reason","format","addUser","console","log","getNickname","nickname","name","deleteUser","find","remove","catch","addPay","payment","getNextRenewal","r","renewals","undefined","getBuildings","Set","getFloors","reverse","getDoors","generateInvoiceId","padStart","mobile","slice","filter","date","index","indexString","toString","addInvoice","invoice","billing_end","apps","initializeApp","React","Component","CircleCondition","className","style","onClick","small","condition","backgroundColor","color","icon","title","titleStyle","Circle","invert","VerticalTimeline","overflow","height","content","map","key","marginBottom","subtitle","HorizontalTimeline","cursor","HorizontalTimelineConditional","position","top","zIndex","conditionArray","VerticalTimelineConditional","width","marginLeft","HeadCountBox","bgClick","children","SlidingOverlay","opacity","visible","display","bottom","Overlay","db","Main","useState","redirect","setRedirect","redirectProps","setRedirectProps","tennantOverlay","setTennantOverlay","selectedTennant","setSelectedTennant","ebOverlay","setEBOverlay","useForm","register","handleSubmit","editOtherAmount","setEditOtherAmount","useEffect","generateRenewalsList","isBetween","subtract","getNextPayment","diff","totalCollection","sumRent","sumExpectedRent","paid","current","total","percent","getTotalCollection","resetEBOverlay","to","pathname","state","Navbar","bg","variant","fixed","Brand","b","marginTop","fontSize","ProgressBar","now","borderRadius","margin","marginRight","f","d","float","onSubmit","transition","type","pattern","defaultValue","fontWeight","Details","showAddPayOverlay","setShowAddPayOverlay","showHistoryOverlay","setShowHistoryOverlay","showAdvanceOverlay","setShowAdvanceOverlay","showMonthPicker","setShowMonthPicker","adjustmentOverlay","setAdjustmentOverlay","availableMonths","setAvailableMonths","getValues","setValue","location","resetAddPayOverlay","nextPayment","selectedMonth","setSelectedMonth","lessTotal","advance","l","end","right","ai","isSame","ri","start","GenerateInvoice","months","setMonths","formContent","setFormContent","successOverlay","setSuccessOverlay","heads","head_count","getHeads","houses","isEmpty","getHouses","items","initContent","value","eb","fieldname","isShared","isPerHead","valueTemplate","isPPB","perPersonValue","from","o","isPerMonth","round","step","v","onChange","generatedInvoices","personInvoice","billing_start","particulars","replace","ppvForPerson","pv","itemSum","days","prodata","isProdata","maxDays","daysInMonth","generate","includes","readOnly","vi","updateHS","updatePerMonth","InvoicesSummary","inWords","num","n","substr","match","str","Number","styles","StyleSheet","create","page","padding","h1","table","borderStyle","borderWidth","borderRightWidth","borderBottomWidth","tr","flexDirection","tcol","borderLeftWidth","borderTopWidth","tcell","textAlign","footer","sign","Invoice","address","proDataMultiplier","getQty","qty","window","innerHeight","size","charAt","toUpperCase","justifyContent","Adjustment","rent","finalRent","flexGrow","paddingLeft","paddingRight","AddPerson","addpersonOverlay","setaddpersonOverlay","checkForm","setcheckForm","testSubmitHandler","water","checkFormValue","Form","Group","Control","placeholder","borderBottom","borderTop","borderLeft","borderRight","Button","block","App","exact","component","render","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","message"],"mappings":"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","file":"static/js/main.6428995e.chunk.js","sourcesContent":["const config = {\napiKey: \"AIzaSyBFDTNmvOzGvYgIXwmOJbR8NYTmYd9kGdk\",\n    authDomain: \"landlord-b68c5.firebaseapp.com\",\n    databaseURL: \"https://landlord-b68c5.firebaseio.com\",\n    projectId: \"landlord-b68c5\",\n    storageBucket: \"landlord-b68c5.appspot.com\",\n    messagingSenderId: \"18825199721\",\n    appId: \"1:18825199721:web:da5322c747c82034c322f8\",\n    measurementId: \"G-XXJHCZ4G3Q\"\n}\n\nexport default config;\n","import firebase from 'firebase/app';\nimport 'firebase/database';\nimport config from './config';\nimport moment from 'moment';\nimport React from 'react';\n\nclass DB extends React.Component {\n   constructor(props) {\n      super(props)\n      // eslint-disable-next-line no-unused-vars\n      var data;\n      if (!firebase.apps.length) {\n         firebase.initializeApp(config);\n         this.get()\n      }\n   }\n\n   refreshCache = (id, item) => {\n      let path = '/'\n      if (this.data) {\n         if (id) path += id\n         if (item) path += '/' + item\n      }\n      let ref = firebase.database().ref(path);\n      ref.on('value', async (snapshot) => {\n         if (this.data && id) {\n            if (item) this.data[id][item] = await snapshot.val()\n            else this.data[id] = await snapshot.val()\n         } else this.data = await snapshot.val()\n         localStorage.setItem('rent-db', JSON.stringify(this.data));\n         return new Promise((resolve, reject) => {\n            setTimeout(() => {\n               if (this.data) resolve(this.data)\n            }, 200)\n         })\n      })\n   }\n\n   get = () => {\n      if (!this.data) {\n         let cache = localStorage.getItem('rent-db');\n         if (cache)\n            this.data = JSON.parse(cache)\n         else {\n            let ref = firebase.database().ref('/');\n            ref.on('value', async (snapshot) => {\n               this.data = await snapshot.val()\n               localStorage.setItem('rent-db', JSON.stringify(this.data));\n               return new Promise((resolve, reject) => {\n                  setTimeout(() => {\n                     if (this.data) resolve(this.data)\n                  }, 200)\n               })\n            })\n         }\n      }\n   }\n\n   persons = (building) => {\n      if (!this.data) this.get()\n      let array = []\n\n      Object.keys(this.data).forEach((id, i) => {\n         if (building) {\n            if (id.split(\"_\")[0] === building)\n               array.push(this.data[id])\n         } else array.push(this.data[id])\n      });\n\n      return array\n   }\n\n   profiles = (building) => {\n      if (!this.data) this.get()\n      let array = []\n\n      Object.keys(this.data).forEach((id, i) => {\n         if (building) {\n            if (id.split(\"_\")[0] === building)\n               array.push(this.data[id].profile)\n         } else array.push(this.data[id].profile)\n      });\n\n      return array\n   }\n\n   parseId = (id) => {\n      if (!this.data) this.get()\n\n      var idParts = id.split(\"_\")\n\n      if (id) {\n         if (idParts.length)\n            return {\n               building: idParts[0],\n               floor: parseInt(idParts[1]),\n               door: parseInt(idParts[2])\n            }\n         else return\n      }\n   }\n\n   updateUser = (id, item, data) => {\n      if (id && data) {\n         if(Array.isArray(data))\n            firebase.database().ref(id + '/' + item).set(data, (error) => {\n               return new Promise((resolve, reject) => {\n                  if (error) reject(error);\n                  resolve(this.refreshCache(id))\n               })\n            })\n         else\n            firebase.database().ref(id + '/' + item).update(data, (error) => {\n               return new Promise((resolve, reject) => {\n                  if (error) reject(error);\n                  resolve(this.refreshCache(id))\n               })\n            })\n      }\n   }\n\n   getExpectedRent = (person, month) => {\n      let expectedRent = []\n\n      for (let s = moment(person.startdate); s.isSameOrBefore(moment().add(1,\"M\")); s.add(1, \"M\").startOf('month')) {\n         if(s.isAfter(moment())) break;\n         let year = Math.floor(expectedRent.length / 11)\n         let expectedSubTotal = {\n            housing: Math.floor(person.base_rent * Math.pow(1.05, year)),\n            others: 0\n         }\n         if (person.invoices) expectedSubTotal.others += this.getInvoiceSum(person,s.month()-1)\n         let lessForMonth = 0\n         // if (person.less) lessForMonth = person.less.find((l) => { return l.month === s.month() + 1 })\n         if (lessForMonth)\n            expectedSubTotal.housing -= lessForMonth.amount\n         if(expectedRent.length+1 === month) return expectedSubTotal\n         expectedRent.push(expectedSubTotal)\n      }\n      return expectedRent\n   }\n\n   getDues = (person, returnStatusOnly, getAllItems, month) => {\n      let expectedRent = this.getExpectedRent(person)\n\n      let paidRent = [{housing:0,others:0}]\n      if(person.payment_history) paidRent = [...person.payment_history]\n\n      let dueTotal = { housing: 0, others: 0 }\n      // console.log([person.profile.name,person.payment_history,expectedRent.length]);\n\n      while(paidRent.length !== expectedRent.length) paidRent.push({housing:0,others:0})\n\n      let returnValue = {housing: 0,others:0}\n      paidRent.forEach((p, i) => {\n         let due_i = {\n            housing: expectedRent[i].housing - p.housing,\n            others: expectedRent[i].others - p.others\n         }\n         dueTotal.housing += due_i.housing\n         dueTotal.others += due_i.others\n\n         if (i === month) returnValue =  due_i\n      });\n\n      if(month) dueTotal = returnValue\n      if (returnStatusOnly) {\n         if (getAllItems)\n            return (dueTotal.housing === 0 && dueTotal.others === 0) ? true : false\n         else\n            return (dueTotal.housing === 0) ? true : false\n      }\n      else\n         return (getAllItems) ? dueTotal : dueTotal.housing\n   }\n\n   getPaidRent = (person, month) => {\n      let expectedRent = this.getExpectedRent(person)\n\n      let paidRent = [{housing:0,others:0}]\n      if(person.payment_history) paidRent = [...person.payment_history]\n\n      while(paidRent.length !== expectedRent.length) paidRent.push({housing:0,others:0})\n\n      return month ? paidRent[month]||{housing: 0,others:0} : paidRent\n   }\n\n   getLess = (person,getSum) => {\n      var sum = 0, less = []\n\t\tthis.getExpectedRent(person).forEach((e,i) => {\n         let dueForMonth = this.getDues(person,false,true,i+1)\n         less.push({\n            month:i+1,\n            amount: dueForMonth.housing + dueForMonth.others,\n            reason: `Rent ${dueForMonth.others > 0 ? '& Utilities ' : ''}- ${moment(person.startdate).add(i+1,\"M\").format(\"MMM YY\")}`\n         })\n         sum+=dueForMonth.housing + dueForMonth.others\n      })\n      return getSum ? sum : less\n   }\n\n   addUser = (id, data) => {\n\t   console.log(this.data)\n\t   console.log(id)\n\t   if (!this.data) this.get()\n\t \tif (!this.data[id])\treturn false\n      \telse {\n         \tfirebase.database().ref('/' + id).set(data, (error) => {\n            return new Promise((resolve, reject) => {\n               if (error) reject(error);\n               resolve(this.refreshCache(id))\n            })\n         })\n      }\n   }\n\n   getNickname = (profile) => {\n      if(!profile) return 'undefined'\n      return profile.nickname ? profile.nickname : profile.name.split(' ')[0]\n   }\n\n   deleteUser = (id, data) => {\n      if (!Object.keys(this.data).find(id))\n         return true\n      else {\n         firebase.database().ref(id).remove().catch((e) => {\n            console.log(e);\n            return false\n         });\n      }\n   }\n\n   addPay = (person, month, payment) => {\n      let paidRent = person.payment_history || []\n      if(month > paidRent.length)\n         paidRent.push(payment)\n      else paidRent[month-1] = payment\n      return this.updateUser(person.id, \"payment_history\", paidRent)\n   }\n\n   getNextRenewal = (person) => {\n      let r = person.renewals\n      return moment((r !== undefined && r.length > 0) ? r[r.length - 1] : person.startdate, \"YYYY-MM-DD\", true).add(11, \"M\")\n   }\n\n   getBuildings = () => {\n      if (!this.data) this.get()\n      let array = []\n      Object.keys(this.data).forEach((id, i) => {\n         array.push(this.parseId(id).building)\n      });\n      return [...new Set(array)]\n   }\n\n   getFloors = (building) => {\n      if (!this.data) this.get()\n      let array = []\n      Object.keys(this.data).forEach((id, i) => {\n         if (this.parseId(id).building === building)\n            array.push(this.parseId(id).floor)\n      });\n      return [...new Set(array)].reverse()\n   }\n\n   getDoors = (building, floor) => {\n      if (!this.data) this.get()\n      let array = []\n      Object.keys(this.data).forEach((id, i) => {\n         if (this.parseId(id).building === building && this.parseId(id).floor === parseInt(floor))\n            array.push(this.parseId(id).door)\n      });\n      return [...new Set(array)]\n   }\n\n   generateInvoiceId = (person) => {\n      let idParts = this.parseId(person.id)\n      let id = `I-${idParts.building.padStart(2,'0')}${idParts.floor}${idParts.door}-${person.profile.mobile.slice(-4)}-${moment().format(\"YYYYMMDD\")}-`\n\n      if(person.invoices) {\n         let invoices = person.invoices.filter(i => i.date === moment().format(\"YYYY-MM-DD\"))\n         let index = 0, indexString = ''\n         do {\n            indexString = (++index).toString().padStart(2,'0')\n         // eslint-disable-next-line no-loop-func\n         } while(invoices.find(i => i.id === id+indexString))\n         return id+indexString\n      }\n\n      return id+'01'\n   }\n\n   addInvoice = (person, invoice) => {\n      let invoices = person.invoices || []\n      invoices.push(invoice)\n      return this.updateUser(person.id, \"invoices\", invoices)\n   }\n\n   getInvoiceSum = (person,month) => {\n      let invoices = person.invoices || []\n      let sum = 0\n\n      invoices.forEach(invoice => {\n         if(month) {\n            if(month === moment(invoice.billing_end,\"YYYY-MM\").month()+1)\n               sum += invoice.sum || 0\n         }\n         else sum += invoice.sum || 0\n      })\n      return sum\n   }\n}\n\nexport default DB;\n","import React, { Fragment } from 'react';\nimport './Main.css'\nimport './Components.css'\n\nexport const CircleCondition = props => (\n\t<div className='circle-container' style={props.style} onClick={props.onClick}>\n\t\t<div className={props.small ? \"circle-sm\" :\"circle\"} style={props.condition ? { backgroundColor: props.color[0] } : { backgroundColor: props.color[1] }}>\n\t\t\t<center><b className=\"fas\">{props.condition ? props.icon[0] : props.icon[1]}</b></center>\n\t\t</div>\n\t\t{props.title ? <p style={props.titleStyle || {}}>{props.title}</p> : null}\n\t</div>\n)\n\nexport const Circle = props => (\n\t<div className='circle-container' style={props.style} onClick={props.onClick}>\n\t\t<div className={props.small ? \"circle-sm\" :\"circle\"} style={{ backgroundColor: props.invert ? 'white': props.color || 'darkgrey' }}>\n\t\t\t<center><b className=\"fas\" style={{ color: !props.invert ? 'white': props.color}}>{props.icon}</b></center>\n\t\t</div>\n\t\t<br/>\n\t\t{props.title ? <p style={props.titleStyle || {}}>{props.title}</p> : null}\n\t</div>\n)\n\nexport const VerticalTimeline = props => (\n\t<div style={{overflow:\"scroll\",height:'100%'}}>\n\t\t<div className=\"vertical-timeline\" content={'\\uf067'} style={{height:`${17*props.content.length}%`}}>\n\t\t{\n\t\t\tprops.content.map((item, i) => (\n\t\t\t\t<div key={i} className=\"vertical-timeline-container\">\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<h5>{item.title}</h5>\n\t\t\t\t\t\t<div style={{marginBottom:'5%'}}>{item.subtitle}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))\n\t\t}\n\t\t</div>\n\t</div>\n)\n\nexport const HorizontalTimeline = props => (\n\t<div className=\"horizontal-timeline\" >\n\t\t{\n\t\t\tprops.content.map((item, i) => (\n\t\t\t\t<div key={i} className=\"horizontal-timeline-container\" onClick={item.onClick} style={{cursor: item.onClick ? 'pointer' : 'default'}}>\n\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t<h5>{item.title}</h5>\n\t\t\t\t\t\t<p>{item.subtitle}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))\n\t\t}\n\t</div>\n)\n\nexport const HorizontalTimelineConditional = props => (\n\t<div className=\"horizontal-timeline\" content={'\\uf067'} >\n\t\t{\n\t\t\tprops.content.map((item, i) => (\n\t\t\t\t<div key={i} className=\"horizontal-timeline-container\">\n\t\t\t\t\t<div className=\"content\" >\n\t\t\t\t\t\t<h5>{item.title}</h5>\n\t\t\t\t\t\t<p>{item.subtitle}</p>\n\t\t\t\t\t\t<CircleCondition small\n\t\t\t\t\t\t\tcolor={props.color}\n\t\t\t\t\t\t\ticon={props.icon}\n\t\t\t\t\t\t\tstyle={{position: 'relative', top:-70, zIndex:1}}\n\t\t\t\t\t\t\tcondition={props.conditionArray[i]} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))\n\t\t}\n\t</div>\n)\nexport const VerticalTimelineConditional = props => (\n\t<div style={{overflow:\"scroll\",height:'100%'}}>\n\t\t<div className=\"vertical-timeline\" content={'\\uf067'} style={{height:`${17*props.content.length}%`}}>\n\t\t{\n\t\t\tprops.content.map((item, i) => (\n\t\t\t\t<div key={i} className=\"vertical-timeline-container\">\n\t\t\t\t\t<div className=\"content\" style={{color:'white',width:'130%'}}>\n\t\t\t\t\t\t<h5>{item.title}</h5>\n\t\t\t\t\t\t<div style={{marginBottom:'5%'}}>{item.subtitle}</div>\n\t\t\t\t\t\t<CircleCondition small\n\t\t\t\t\t\t\tcolor={props.color}\n\t\t\t\t\t\t\ticon={props.icon}\n\t\t\t\t\t\t\tstyle={{position: 'absolute', top:-78, zIndex:1,marginLeft:'88%'}}\n\t\t\t\t\t\t\tcondition={props.conditionArray[i-1] || false} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))\n\t\t}\n\t\t</div>\n\t</div>\n)\n\nexport const HeadCountBox = props => (\n\t<Fragment>\n\t\t<div className=\"headCountContainer\" style={props.style} onClick={props.bgClick}>{props.children}</div>\n\t</Fragment>\n)\n\nexport const SlidingOverlay = props => (\n\t<Fragment>\n\t\t<div className=\"overlay\" onClick={props.bgClick} style={{opacity:(props.visible===true? 1 : 0), display: (props.visible===true? 'block' : 'none')}}></div>\n\t\t<div className=\"sliding-overlay-container\" style={{bottom:`${-props.height+(props.height*(props.visible===true? 1 : 0))}%`, height:`${props.height}%`}}>\n\t\t\t{props.children}\n\t\t</div>\n\t</Fragment>\n)\n\nexport const Overlay = props => (\n\t<Fragment>\n\t\t<div className=\"overlay\" onClick={props.bgClick} style={{opacity:(props.visible===true? 1 : 0), display: (props.visible===true? 'block' : 'none')}}></div>\n\t\t<center>\n\t\t\t<div className=\"overlay-container\" style={{display: (props.visible===true? 'block' : 'none'), height: `${props.height}%`, top: `${(100-props.height)/2}%` }}>\n\t\t\t\t{props.children}\n\t\t\t</div>\n\t\t</center>\n\t</Fragment>\n)\n","import Navbar from 'react-bootstrap/Navbar'\nimport DB from './DB';\nimport React, { Fragment, useState, useEffect } from 'react';\nimport './Main.css'\nimport moment from 'moment';\nimport { Redirect } from 'react-router';\nimport { Circle, CircleCondition, Overlay, SlidingOverlay } from './Components'\nimport ProgressBar from 'react-bootstrap/ProgressBar'\nimport { useForm } from 'react-hook-form'\n\nvar db = new DB()\n\nfunction Main() {\n\tconst [redirect, setRedirect] = useState();\n\tconst [redirectProps, setRedirectProps] = useState();\n\tconst [tennantOverlay, setTennantOverlay] = useState(false);\n\tconst [selectedTennant, setSelectedTennant] = useState();\n\tconst [ebOverlay, setEBOverlay] = useState(false);\n\tconst { register, handleSubmit } = useForm();\n\tconst [editOtherAmount, setEditOtherAmount] = useState(0);\n\n\tuseEffect(() => {\n\t\tdb.refreshCache()\n\t}, [])\n\n\tconst generateRenewalsList = () => {\n\t\tlet array = []\n\t\tif (db.data)\n\t\t\tdb.persons().map((person, i) => (\n\t\t\t\tdb.getNextRenewal(person).isBetween(moment().subtract(1, \"M\"), moment().add(7, \"M\"), \"M\") ?\n\t\t\t\t\tarray.push({\n\t\t\t\t\t\ti: i,\n\t\t\t\t\t\tname: person.profile.name,\n\t\t\t\t\t\tdate: db.getNextRenewal(person).format(\"Do MMMM, YYYY\")\n\t\t\t\t\t})\n\t\t\t\t\t: null\n\t\t\t))\n\t\treturn array\n\t}\n\n\tconst getNextPayment = (person) => {\n\t\tlet month = moment().diff(moment(person.startdate).startOf('month'), 'months') + 1\n\t\tif (person.payment_history !== undefined) {\n\t\t\treturn {\n\t\t\t\ti: month - 1,\n\t\t\t\tmonth: moment().subtract(month - person.payment_history.length - 1, \"M\").startOf('month'),\n\t\t\t\tamount: db.getExpectedRent(person, month)\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn {\n\t\t\t\ti: 0,\n\t\t\t\tmonth: moment(person.startdate),\n\t\t\t\tamount: db.getExpectedRent(person, 1)\n\t\t\t}\n\t}\n\n\tconst getTotalCollection = () => {\n\t\tvar sumRent = 0, sumExpectedRent = 0\n\t\tdb.persons().forEach((person) => {\n\t\t\tlet month = getNextPayment(person)\n\t\t\tlet paid = db.getPaidRent(person, month.i).housing || 0\n\t\t\tsumRent += paid\n\t\t\tsumExpectedRent += paid === 0 ? db.getExpectedRent(person, month.i + 1).housing : paid\n\t\t});\n\t\treturn { current: sumRent, total: sumExpectedRent, percent: (sumRent / sumExpectedRent) * 100 }\n\t}\n\n\tvar totalCollection = getTotalCollection()\n\n\tconst resetEBOverlay = () => {\n\t\tsetEBOverlay(false)\n\t\tsetEditOtherAmount(0)\n\t}\n\n\tif (redirect) return <Redirect push to={{ pathname: redirect, state: redirectProps }} />\n\treturn (\n\t\t<div>\n\t\t\t<Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\">\n\t\t\t\t<Navbar.Brand className=\"mx-auto\"><h3><b>Rent</b></h3></Navbar.Brand>\n\t\t\t</Navbar>\n\t\t\t<br /><br /><br /><br />\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf662\"}</b>&nbsp;&nbsp;{moment().format(\"MMMM\")}</h4>\n\t\t\t\t<div className=\"container\" >\n\t\t\t\t\t{\n\t\t\t\t\t\tdb.data && db.getBuildings().reverse().map((building, b) => (\n\t\t\t\t\t\t\t<Fragment key={b}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdb.persons(building).map((person, i) => (\n\t\t\t\t\t\t\t\t\t\t<Fragment key={b + i}>\n\t\t\t\t\t\t\t\t\t\t\t<CircleCondition title={db.getNickname(person.profile)} condition={getNextPayment(person).month.isAfter(moment())} onClick={() => { setRedirectProps(person); setRedirect('/details'); }} color={['#07ab0a', 'darkgrey']} icon={['\\uf00c', '\\uf00d']} />\n\t\t\t\t\t\t\t\t\t\t\t<br style={i % 3 === 2 ? { display: 'block' } : { display: 'none' }} />\n\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{b !== db.getBuildings().length - 1 ? <hr style={{ marginTop: \"-1%\", marginBottom: \"6%\" }} /> : null}\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</center>\n\t\t\t<br />\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf4c0\"}</b>&nbsp;&nbsp;Collected</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t\t<center>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2><b className=\"fas\" style={{ fontSize: 26 }}>{\"\\uf156\"}</b>&nbsp;&nbsp;{totalCollection.current}</h2>\n\t\t\t\t\t<ProgressBar now={totalCollection.percent} style={{ borderRadius: '25px', margin: '5% 0', width: '95%' }} />\n\t\t\t\t\t<small style={{ display: 'inline-block', width: '40%', color: 'darkgrey' }}>out of {totalCollection.total}</small>\n\t\t\t\t</center>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf1da\"}</b>&nbsp;&nbsp;Upcoming Renewals</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t\t{\n\t\t\t\t\tdb.data && generateRenewalsList().map((person, i) => (\n\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t<div style={{ display: 'inline-flex', width: '100%', marginLeft: '2%', cursor: 'pointer' }}>\n\t\t\t\t\t\t\t\t<div style={{ display: 'inline-block', width: '20%', marginRight: '8%' }}>\n\t\t\t\t\t\t\t\t\t<Circle color=\"#5e09b8\" icon={\"\\uf007\"} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ display: 'inline-block', width: '80%', marginTop: '1.5%' }}>\n\t\t\t\t\t\t\t\t\t<b>{person.name}</b><br />\n\t\t\t\t\t\t\t\t\t{person.date}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{i !== generateRenewalsList().length - 1 ? <hr style={{ marginTop: \"-3%\" }} /> : null}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf0c0\"}</b>&nbsp;&nbsp;Tennants</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t\t{\n\t\t\t\t\tdb.data && db.getBuildings().reverse().map((building, b) => (\n\t\t\t\t\t\t<Fragment key={b}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdb.getFloors(building).map((floor, f) => (\n\t\t\t\t\t\t\t\t\t<Fragment key={f}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"floor-label-container\">\n\t\t\t\t\t\t\t\t\t\t\t<center><b className=\"floor-label\">{floor === 0 ? 'G' : floor}</b></center>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"floor\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tdb.getDoors(building, floor).map((door, d) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={d} onClick={() => { setSelectedTennant({ building, floor, door }); setTennantOverlay(true) }} style={{ width: `${100 / db.getDoors(building, floor).length}%`, backgroundColor: `hsl(${48 - (f + d) * 2}, ${(((f + d + 1) / db.getDoors(building, floor).length) * 80) + 15}%, ${(((f + d) / db.getDoors(building, floor).length) * 13) + 74}%)` }} className=\"door\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<center><b className=\"door-label\"><b className=\"fas\">{\"\\uf52a\"}</b>&nbsp;{floor === 0 ? 'G' : floor}0{door}</b><p className=\"door-subtitle\">{db.getNickname(db.data[`${building}_${floor}_${door}`].profile)}</p></center>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{b !== db.getBuildings().length - 1 ? <hr /> : null}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<br /><br />\n\t\t\t{selectedTennant &&\n\t\t\t\t<Overlay visible={tennantOverlay} bgClick={() => setTennantOverlay(!tennantOverlay)} height={25}>\n\t\t\t\t\t<h3><b>{db.data[`${selectedTennant.building}_${selectedTennant.floor}_${selectedTennant.door}`].profile.name}</b></h3>\n\t\t\t\t\t{`${selectedTennant.floor === 0 ? 'G' : selectedTennant.floor}0${selectedTennant.door}, #${selectedTennant.building}`}<br />\n\t\t\t\t\t{'Since ' + moment(db.data[`${selectedTennant.building}_${selectedTennant.floor}_${selectedTennant.door}`].startdate).format(\"Do MMM, YYYY\")}<br />\n\t\t\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#ED0034' }}>Vacate</button>&nbsp;&nbsp;\n\t\t\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#00A4BC' }} onClick={() => { setRedirectProps(`${selectedTennant.building}_${selectedTennant.floor}_${selectedTennant.door}`);setRedirect('/add-person'); }}>Replace</button>\n\t\t\t\t</Overlay>\n\t\t\t}\n\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf543\"}</b>&nbsp;&nbsp;Invoices</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t\t<center>\n\t\t\t\t\t<h3>Generate</h3>\n\t\t\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#006CFF' }} onClick={() => setEBOverlay(true)}>{moment().format(\"MMMM\")}</button>&nbsp;&nbsp;\n\t\t\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#00A4BC' }}>Quarterly</button>\n\t\t\t\t\t<br /><br />\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t\t<SlidingOverlay visible={ebOverlay} bgClick={() => resetEBOverlay()} height={48}>\n\t\t\t\t<b className=\"fas\" style={{ fontSize: 22, float: 'right' }} onClick={() => resetEBOverlay()}>{\"\\uf00d\"}</b>\n\t\t\t\t<br />\n\t\t\t\t<form onSubmit={handleSubmit((d) => {setRedirectProps(d); setRedirect('/generate-invoice')})}>\n\t\t\t\t<center>\n\t\t\t\t\t<div style={{ display: 'inline-block', width: '420%', transition: '.2s ease', marginLeft: `${-2 - (editOtherAmount * 104)}%`, position: 'relative', zIndex: 10 }}>\n\t\t\t\t\t\t<div style={{ display: 'inline-block', width: '20%' }}>\n\t\t\t\t\t\t\t<h3><b>Electricity</b></h3>\n\t\t\t\t\t\t\t<p style={{ marginTop: '-2%' }}>Stairs & Pump</p>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30, display: 'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"eb\" style={{ display: 'inline-block' }} type='number' pattern=\"[0-9]*\" defaultValue={850} ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ display: 'inline-block', marginLeft: '5%', width: '20%' }}>\n\t\t\t\t\t\t\t<h3 style={{marginBottom:'-1%'}}><b>Other Charges</b></h3>\n\t\t\t\t\t\t\t<input name=\"other1-title\" style={{ display: 'inline-block', fontSize:16, fontWeight:'normal' }} defaultValue=\"Other Expense 1\" ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t\t<br /><br/><br/>\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30, display: 'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"other1-amount\" style={{ display: 'inline-block' }} type='number' pattern=\"[0-9]*\" defaultValue={0} ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ display: 'inline-block', marginLeft: '5%', width: '20%' }}>\n\t\t\t\t\t\t\t<h3 style={{marginBottom:'-1%'}}><b>Other Charges</b></h3>\n\t\t\t\t\t\t\t<input name=\"other2-title\" style={{ display: 'inline-block', fontSize:16, fontWeight:'normal' }} defaultValue=\"Other Expense 2\" ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t\t<br /><br/><br/>\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30, display: 'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"other2-amount\" style={{ display: 'inline-block' }} type='number' pattern=\"[0-9]*\" defaultValue={0} ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{ display: 'inline-block', marginLeft: '5%', width: '20%' }}>\n\t\t\t\t\t\t\t<h3 style={{marginBottom:'-1%'}}><b>Other Charges</b></h3>\n\t\t\t\t\t\t\t<input name=\"other3-title\" style={{ display: 'inline-block', fontSize:16, fontWeight:'normal' }} defaultValue=\"Other Expense 3\" ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t\t<br /><br/><br/>\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30, display: 'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"other3-amount\" style={{ display: 'inline-block' }} type='number' pattern=\"[0-9]*\" defaultValue={0} ref={register} className=\"editable-label-input\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</center>\n\t\t\t\t<b className=\"fas\" onClick={() => setEditOtherAmount(editOtherAmount === 3 ? 0 : editOtherAmount + 1)} style={{ fontSize: 22, float: 'right', marginRight: '5%', marginTop: '-15%', position: 'relative', zIndex: 15 }}>{\"\\uf1b2\"}</b>\n\t\t\t\t<br />\n\t\t\t\t<center>\n\t\t\t\t\t<button className=\"overlay-button\" style={{ marginTop: '5%', color: '#006CFF' }} type=\"submit\">Next</button>\n\t\t\t\t</center>\n\t\t\t\t</form>\n\t\t\t</SlidingOverlay>\n\t\t\t<br /><br />\n\t\t</div>\n\t)\n}\n\nexport default Main;\n","import Navbar from 'react-bootstrap/Navbar'\nimport React, { Fragment, useState } from 'react';\nimport DB from './DB';\nimport moment from 'moment';\nimport { Redirect } from 'react-router';\nimport { useForm } from 'react-hook-form'\nimport { Circle, HorizontalTimeline,VerticalTimelineConditional,VerticalTimeline, HorizontalTimelineConditional,SlidingOverlay, Overlay } from './Components'\n\nvar db = new DB()\n\nfunction Details(props) {\n\tconst [showAddPayOverlay,setShowAddPayOverlay] = useState(false);\n\tconst [showHistoryOverlay,setShowHistoryOverlay] = useState(false);\n\tconst [showAdvanceOverlay,setShowAdvanceOverlay] = useState(false);\n\tconst [editOtherAmount,setEditOtherAmount] = useState(false);\n\tconst [showMonthPicker,setShowMonthPicker] = useState(false);\n\tconst [adjustmentOverlay,setAdjustmentOverlay] = useState(false);\n\tconst [availableMonths,setAvailableMonths] = useState([]);\n\tconst [redirect, setRedirect] = useState();\n\tconst [redirectProps, setRedirectProps] = useState();\n\tconst { register, getValues, setValue } = useForm();\n\n\tconst person = props.location.state\n\tconst idParts = db.parseId(person.id)\n\n\tconst getNextPayment = () => {\n\t\tif(person.payment_history!==undefined) {\n\t\t\treturn {\n\t\t\t\ti: person.payment_history.length,\n\t\t\t\tmonth: moment(person.startdate).add(person.payment_history.length,\"M\").startOf('month'),\n\t\t\t\tamount: db.getExpectedRent(person,person.payment_history.length)\n\t\t\t}\n\t\t}\n\t\telse return {\n\t\t\ti: 0,\n\t\t\tmonth: moment(person.startdate),\n\t\t\tamount: db.getExpectedRent(person,1)\n\t\t}\n\t}\n\n\tconst resetAddPayOverlay = () => {\n\t\tsetShowAddPayOverlay(false)\n\t\tsetEditOtherAmount(false)\n\t}\n\n\tvar nextPayment = getNextPayment()\n\tconst [selectedMonth,setSelectedMonth] = useState(nextPayment);\n\n\tconst getAvailableMonths = () => {\n\t\tsetAvailableMonths(db.getExpectedRent(person))\n\t\tsetShowMonthPicker(!showMonthPicker)\n\t}\n\n\tconst paidRent = db.getPaidRent(person)\n\n\tconst less = db.getLess(person), lessTotal =  db.getLess(person,true)\n\n    if (redirect) return <Redirect push to={{ pathname: redirect, state: redirectProps }} />\n\treturn (\n\t\t<div>\n\t\t\t<Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\">\n\t\t\t\t<Navbar.Brand className=\"mx-auto\"><h3><b>Rent</b></h3></Navbar.Brand>\n\t\t\t</Navbar>\n\t\t\t<br /><br /><br /><br />\n\t\t\t{\n\t\t\t\t// Profile Header\n\t\t\t}\n\t\t\t<div style={{ display: 'inline-flex', width: '95%', marginLeft: '2%', cursor: 'pointer' }}>\n\t\t\t\t<div style={{ display: 'inline-block', width: '20%', marginRight: '8%' }}>\n\t\t\t\t\t<Circle color=\"#5e09b8\" icon={\"\\uf007\"} style={{ marginLeft: '50%' }} />\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: 'inline-block', width: '80%', marginTop: '1%', marginLeft: '5%' }}>\n\t\t\t\t\t<h3 style={{marginBottom:'-2%'}}>{person.profile.name}</h3>\n\t\t\t\t\t<small style={{ display: 'inline-block', width: '40%', color:'darkgrey' }}>{`${idParts.floor === 0 ? 'G' : idParts.floor}0${idParts.door}, #${idParts.building}`}</small><br/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\t// Start Date Container\n\t\t\t}\n\t\t\t<div className='container'>\n\t\t\t\t<div style={{ display: 'inline-flex', width: '100%' }}>\n\t\t\t\t\t<b className=\"fas\" style={{ display: 'inline-block', width: '10%', margin: '-1% 1% 2% 3%', fontSize: '40px', color:'#f03050' }}>{\"\\uf073\"}</b>\n\t\t\t\t\t<div style={{marginLeft:'5%'}}><small style={{ display: 'inline-block', width: '40%', color:'darkgrey' }}>Since</small>\n\t\t\t\t\t<h4 style={{marginTop:'-1%'}}><b>{moment(person.startdate).format(\"Do MMMM, YYYY\")}</b></h4></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t{\n\t\t\t\t// Payment History Container\n\t\t\t}\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf1da\"}</b>&nbsp;&nbsp;Rent History</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\" onClick={() => setShowHistoryOverlay(true)}>\n\t\t\t{ person.payment_history!==undefined ?\n\t\t\t\t<HorizontalTimelineConditional\n\t\t\t\t\tcontent={\n\t\t\t\t\t\tpaidRent.map((p, i) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: moment(person.startdate).add(i, \"M\").format(\"MMM\"),\n\t\t\t\t\t\t\t\tsubtitle: p.housing\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).slice(-3)\n\t\t\t\t\t}\n\t\t\t\t\tconditionArray={ paidRent.map(p => p.housing!==0).slice(-3) }\n\t\t\t\t\tcolor={['#07ab0a', 'darkgrey']}\n\t\t\t\t\ticon={['\\uf00c', '\\uf00d']}\n\t\t\t\t/>:null\n\t\t\t}\n\t\t\t</div>\n\t\t\t{\n\t\t\t\t// Payment History Overlay\n\t\t\t}\n\t\t\t<SlidingOverlay visible={showHistoryOverlay} height={85} bgClick={() =>setShowHistoryOverlay(false)} >\n\t\t\t\t<b className=\"fas\" style={{fontSize: 20,float:'right'}} onClick={() => setShowHistoryOverlay(showHistoryOverlay ? false : true)}>{\"\\uf00d\"}</b>\n\t\t\t\t<br/>\n\t\t\t\t{ person.payment_history!==undefined?\n\t\t\t\t\t<VerticalTimelineConditional\n\t\t\t\t\t\tcontent={\n\t\t\t\t\t\t\tpaidRent.map((p, i) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\ttitle: moment(person.startdate).add(i, \"M\").format(\"MMM YY\"),\n\t\t\t\t\t\t\t\t\tsubtitle: <div><b className=\"fas\">{\"\\uf015\"}</b> {p.housing}&nbsp;&nbsp;&nbsp;&nbsp;<b className=\"fas\">{\"\\uf1b2\"}</b> {p.others}</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconditionArray={ paidRent.map(p => p.housing!==0) }\n\t\t\t\t\t\tcolor={['#07ab0a', 'darkgrey']}\n\t\t\t\t\t\ticon={['\\uf00c', '\\uf00d']}\n\t\t\t\t\t/>:null\n\t\t\t\t}\n\t\t\t</SlidingOverlay>\n\t\t\t<br />\n\t\t\t{\n\t\t\t\t// Less Advance Container\n\t\t\t}\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf3d1\"}</b>&nbsp;&nbsp;Returnable Advance</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t\t<br/>\n\t\t\t\t<center>\n\t\t\t\t\t<h2><b className=\"fas\" style={{ fontSize: 26 }}>{\"\\uf156\"}</b><b>&nbsp;{person.advance-lessTotal}</b></h2>\n\t\t\t\t</center>\n\t\t\t\t<br/>\n\t\t\t\t\t<div style={{ color: 'darkgrey', fontSize: 14 }}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tless.filter(l => l.amount!==0).map((item, i) => (\n\t\t\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t\t\t<b className=\"fas\" style={{marginRight:'3%'}}>{\"\\uf06a\"}</b>{item.reason}<br/>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)).slice(-2).reverse()\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<button className=\"btn btn-link\" style={{margin:'-2% 0 0 -4%'}} onClick={() => setShowAdvanceOverlay(true)}><small>{less.filter(l => l.amount!==0).length} more..</small></button>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<br />\n\t\t\t{\n\t\t\t\t// Less Advance Overlay\n\t\t\t}\n\t\t\t<SlidingOverlay visible={showAdvanceOverlay} height={85} bgClick={() =>setShowAdvanceOverlay(false)} >\n\t\t\t\t<b className=\"fas\" style={{fontSize: 20,float:'right'}} onClick={() => setShowAdvanceOverlay(showAdvanceOverlay ? false : true)}>{\"\\uf00d\"}</b>\n\t\t\t\t<br/>\n\t\t\t\t<VerticalTimeline\n\t\t\t\t\tcontent={ less.filter(l => l.amount!==0).map((item) => {return {title:item.reason, subtitle:-item.amount}}) }\n\t\t\t\t/>\n\t\t\t</SlidingOverlay>\n\t\t\t{\n\t\t\t\t// Renewals Container\n\t\t\t}\n\t\t\t\t<Fragment>\n\t\t\t\t\t<center>\n\t\t\t\t\t\t<h4><b className=\"fas\">{\"\\uf251\"}</b>&nbsp;&nbsp;Renewals</h4>\n\t\t\t\t\t</center>\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<HorizontalTimeline content={[...person.renewals||[], db.getNextRenewal(person)].map((r) => { return { title: moment(r).format(\"MMM\"), subtitle: moment(r).format(\"YYYY\") } })} />\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>\n\t\t\t<br />\n\t\t\t{\n\t\t\t\t// Invoices Container\n\t\t\t}\n\t\t\t<center>\n\t\t\t\t<h4><b className=\"fas\">{\"\\uf543\"}</b>&nbsp;&nbsp;Invoices</h4>\n\t\t\t</center>\n\t\t\t<div className=\"container\">\n\t\t\t{ person.invoices!==undefined ?\n\t\t\t\t<HorizontalTimeline\n\t\t\t\t\tcontent={\n\t\t\t\t\t\tperson.invoices.map((invoice, i) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: moment(invoice.billing_end,\"YYYY-MM\").format(\"MMM\"),\n\t\t\t\t\t\t\t\tsubtitle: invoice.sum,\n\t\t\t\t\t\t\t\tonClick: () => {setRedirectProps({person: person, invoice: invoice}); setRedirect('/invoice')}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).slice(-3)\n\t\t\t\t\t}\n\t\t\t\t/>:null\n\t\t\t}\n\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#00A4BC',width:'48%' }} onClick={() => setAdjustmentOverlay(true)}>Adjust</button>&nbsp;&nbsp;\n\t\t\t<button className=\"overlay-button-mx\" style={{ marginTop: '5%', backgroundColor: '#ED0034',width:'48%' }} onClick={() => {setRedirectProps({person:person,end:moment().format(\"YYYY-MM-DD\"), type: 'settlement', less: less, lessTotal: lessTotal}); setRedirect('/adjustment')}}>Settle</button>\n\t\t\t</div>\n\t\t\t<br /><br />\n\t\t\t{\n\t\t\t\t// Add Pay Floating Button\n\t\t\t}\n\t\t\t<Circle color=\"#006CFF\" icon={\"\\uf067\"} style={{ position: 'fixed', bottom: '1%', right: '2%' }} onClick={() => setShowAddPayOverlay(true)}/>\n\t\t\t{\n\t\t\t\t// Add Pay Overlay\n\t\t\t}\n\t\t\t<SlidingOverlay visible={showAddPayOverlay} bgClick={() => resetAddPayOverlay()} height={48}>\n\t\t\t\t<b className=\"fas\" style={{ fontSize: 22,float:'right'}} onClick={() => resetAddPayOverlay()}>{\"\\uf00d\"}</b>\n\t\t\t\t<br/>\n\t\t\t\t<center>\n\t\t\t\t\t<h3 style={{marginLeft:'5%'}}>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t{!editOtherAmount ?\n\t\t\t\t\t\t\t\t<span onClick={() => getAvailableMonths()}>{`Rent ${selectedMonth.month.format(\"MMMM\")}`}</span>\n\t\t\t\t\t\t\t\t: \"Utilities\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</b>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<div style={{display:'inline-block', width:'210%', transition:'.2s ease', marginLeft: !editOtherAmount ? '4%' : '-115%', position:'relative', zIndex:10}}>\n\t\t\t\t\t\t<div style={{display:'inline-block', width:'45%'}}>\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30,display:'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"housing-payment\" style={{display:'inline-block'}} type='number' pattern=\"[0-9]*\" defaultValue={selectedMonth.amount.housing} ref={register} className=\"editable-label-input\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style={{display:'inline-block', marginLeft:'10%', width:'45%'}}>\n\t\t\t\t\t\t\t<b className=\"fas\" style={{ fontSize: 30,display:'inline-block' }}>{\"\\uf156\"}</b>\n\t\t\t\t\t\t\t<input name=\"other-payment\" style={{display:'inline-block'}} type='number' pattern=\"[0-9]*\" defaultValue={selectedMonth.amount.others} ref={register} className=\"editable-label-input\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</center>\n\t\t\t\t<b className=\"fas\" onClick={() => setEditOtherAmount(!editOtherAmount)} style={{ fontSize: 22, float:'right', marginRight:'5%', marginTop:'-15%', position:'relative', zIndex:15}}>{\"\\uf1b2\"}</b>\n\t\t\t\t<br/><br/>\n\t\t\t\t<center><button className=\"overlay-button\" onClick={() => {db.addPay(person,selectedMonth.i+1,{housing:parseInt(getValues(\"housing-payment\")), others:parseInt(getValues(\"other-payment\"))}); resetAddPayOverlay()}} style={{color:'#006CFF'}}>Save</button></center>\n\t\t\t</SlidingOverlay>\n\t\t\t{\n\t\t\t\t// Date Picker Overlay\n\t\t\t}\n\t\t\t<Overlay visible={showMonthPicker} bgClick={() => setShowMonthPicker(!showMonthPicker)} height={40}>\n\t\t\t\t<div style={{display:'inline-block', width: '100%', overflow:'scroll'}}>\n\t\t\t\t{\tavailableMonths.length > 0 &&\n\t\t\t\t\tavailableMonths.map((a,ai) => (\n\t\t\t\t\t\t<Fragment key={ai}>\n\t\t\t\t\t\t\t{ moment(person.startdate).add(ai,\"M\").startOf('month').isSame(selectedMonth.month,'month') ?\n\t\t\t\t\t\t\t\t<button className=\"overlay-button-mx\" key={ai} style={{margin:'2% 1%'}}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetSelectedMonth({i: ai,month: moment(person.startdate).add(ai,\"M\").startOf('month'), amount:a});\n\t\t\t\t\t\t\t\t\t\tsetValue(\"housing-payment\", selectedMonth.amount.housing);\n\t\t\t\t\t\t\t\t\t\tsetValue(\"other-payment\", selectedMonth.amount.others);\n\t\t\t\t\t\t\t\t\t\tsetShowMonthPicker(false);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{moment(person.startdate).add(ai,\"M\").format(\"MMM YY\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<span className=\"overlay-button-mx-light\" key={ai}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetSelectedMonth({i: ai,month: moment(person.startdate).add(ai,\"M\").startOf('month'), amount:a});\n\t\t\t\t\t\t\t\t\t\tsetValue(\"housing-payment\", selectedMonth.amount.housing);\n\t\t\t\t\t\t\t\t\t\tsetValue(\"other-payment\", selectedMonth.amount.others);\n\t\t\t\t\t\t\t\t\t\tsetShowMonthPicker(false);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t{moment(person.startdate).add(ai,\"M\").format(\"MMM YY\")}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{ ai%3===2 ? <br/> : null }\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Overlay>\n\t\t\t{\n\t\t\t\t// Adjustment Overlay\n\t\t\t}\n\t\t\t<Overlay visible={adjustmentOverlay} bgClick={() => setAdjustmentOverlay(!adjustmentOverlay)} height={40}>\n\t\t\t\t<div style={{display:'inline-block', width: '100%', overflow:'scroll'}}>\n\t\t\t\t{\tperson.renewals ?\n\t\t\t\t\t[person.startdate,...person.renewals].map((r,ri) => (\n\t\t\t\t\t\t<Fragment key={ri}>\n\t\t\t\t\t\t\t\t<button className=\"overlay-button-mx-light\" key={ri}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetRedirectProps({person: person, type:'adjustment', less:less, lessTotal:lessTotal, start: moment(r).format(\"MMMM YYYY\"), end: ri === person.renewals.length ? moment().format(\"MMMM YYYY\") : moment(person.renewals[ri+1]).format(\"MMMM YYYY\")})\n\t\t\t\t\t\t\t\t\t\t\tsetRedirect('/adjustment')\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t{moment(r).format(\"MMM YY\")} - {ri === person.renewals.length ? moment().format(\"MMM YY\") : moment(person.renewals[ri+1]).format(\"MMM YY\")}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)) : <button className=\"overlay-button-mx-light\" style={{margin:'2% 1%'}}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetRedirectProps({person: person, type:'adjustment', less:less, lessTotal:lessTotal, start: moment(person.startdate).format(\"MMMM YYYY\"), end: moment().format(\"MMMM YYYY\")})\n\t\t\t\t\t\t\t\tsetRedirect('/adjustment')\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{moment(person.startdate).format(\"MMM YY\")} - {moment().format(\"MMM YY\")}\n\t\t\t\t\t\t</button>\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</Overlay>\n\t\t</div>\n\t);\n}\n\nexport default Details;\n","import Navbar from 'react-bootstrap/Navbar'\nimport React, { Fragment, useState,useEffect } from 'react';\nimport DB from './DB';\nimport moment from 'moment';\nimport { Redirect } from 'react-router';\nimport { useForm } from 'react-hook-form'\nimport { Circle, CircleCondition, Overlay } from './Components';\n\nvar db = new DB()\n\nfunction GenerateInvoice(props) {\n    const { register, getValues, handleSubmit } = useForm();\n\tconst [months, setMonths] = useState(3);\n    const [formContent,setFormContent] = useState();\n    const [successOverlay,setSuccessOverlay] = useState(false);\n\tconst [redirect, setRedirect] = useState();\n\tconst [redirectProps, setRedirectProps] = useState();\n\n    const getHeads = () => {\n        let heads = 4\n        db.persons().forEach(person => {\n            heads += person.profile.head_count || 0\n        })\n        return heads\n    }\n\n    const getHouses = () => {\n        let houses = 1\n        db.persons().forEach(person => {\n            houses += !person.profile.isEmpty ? 1 : 0\n        })\n        return houses\n    }\n\n    var heads = getHeads(), houses = getHouses(), items = props.location.state\n\n    useEffect(() => {\n        var initContent = [\n            { title: 'Stairs & Pump', value: parseInt(items.eb), fieldname: 'eb', icon: '\\uf0e7', isShared: true, isPerHead: false },\n            { title: 'Water +/-', value: 0, valueTemplate: 'water', fieldname: 'water', icon: '\\ue005', isPPB: true, isPerHead: true, perPersonValue: [] },\n            { title: 'Garbage +/-', value: 60, fieldname: 'garbage', icon: '\\uf1f8' }\n        ];\n        Array.from(['1', '2', '3']).forEach(o => {\n            if (items[`other${o}-amount`] !== \"0\")\n                initContent.push({ title: items[`other${o}-title`], value: parseInt(items[`other${o}-amount`]), icon: '\\uf1b2', fieldname: `other${o}`, isShared: true, isPerHead: true })\n        })\n\n        initContent.forEach((item,i) => {\n            item.isPerMonth = false\n            if (item.isPPB) {\n                db.persons().forEach(person => {\n                    if (person[item.valueTemplate])\n                        item.perPersonValue.push({\n                            id: person.id,\n                            value: item.isPerHead ? person[item.valueTemplate] * (person.profile.head_count || 0) : person[item.valueTemplate]\n                        })\n                })\n            }\n            else if (item.isShared) item.value /= item.isPerHead ? heads : houses\n            item.value = Math.round(item.value, 0) || 0\n        })\n        setFormContent(initContent)\n    },[items,heads,houses])\n\n    const updateHS = (i) => {\n        setFormContent(f => {\n            let item = f[i]\n\n            if(item.isPerHead !== undefined) item = { ...item, isPerHead: !item.isPerHead}\n            else item = { ...item, isPerHead: true}\n            \n            if (item.isPPB || false) {\n                db.persons().forEach(person => {\n                    if (person[item.valueTemplate])\n                        item = { ...item, perPersonValue: [...item.perPersonValue, {\n                            id: person.id,\n                            value: item.isPerHead ? person[item.valueTemplate] * (person.profile.head_count || 0) : person[item.valueTemplate]\n                        }]}\n                })\n            }\n            else if (item.isShared) {\n                if (item.isPerHead)\n                    item = { ...item, value: item.value * houses/heads}\n                else item = { ...item, value: item.value * heads/houses}\n            }\n            else item = { ...item, value: 0}\n            item = { ...item, value: Math.round(item.value,0)}\n            return Array.from([...f.slice(0, i),item,...f.slice(i+1)])\n        })\n    }\n\n    const updatePerMonth = (i) => {\n        setFormContent(f => {\n            let item = f[i]\n\n            if(item.isPerMonth !== undefined) item = { ...item, isPerMonth: !item.isPerMonth}\n            else item = { ...item, isPerMonth: true}\n            \n            return Array.from([...f.slice(0, i),item,...f.slice(i+1)])\n        })\n    }\n\n    const step = (i,s) => {\n        setFormContent(f => {\n            let item = f[i]\n            if(item.isPPB || false) {\n                item = { ...item, value: item.value+s, perPersonValue: item.perPersonValue.map(v => {return {id:v.id,value:v.value+s}})}\n                return Array.from([...f.slice(0, i),item,...f.slice(i+1)])\n            } \n            else if (item.isShared) {\n                if (item.isPerHead)\n                    item = { ...item, value: item.value + s*heads}\n                else item = { ...item, value: item.value + s*houses}\n            }\n            else item = { ...item, value: item.value+s}\n            return Array.from([...f.slice(0, i),item,...f.slice(i+1)])\n        })\n    }\n\n    const generate = (d) => {\n        let generatedInvoices = []\n        db.persons().forEach(person => {\n            let personInvoice = {\n                date:moment().format(\"YYYY-MM-DD\"), \n                id: db.generateInvoiceId(person),\n                head_count: person.profile.head_count || 1,\n                type: 'utilities',\n                months: moment(d['billing-end']).diff(d['billing-start'],'months')+1,\n                billing_start: d['billing-start'],\n                billing_end: d['billing-end'],\n                sum:0,\n                particulars: []\n            }\n            formContent.forEach((f,i) => {\n                let item = {item: f.title.replace(' +/-',''), isPerHead: f.isPerHead || false, isPerMonth: f.isPerMonth}\n                if(f.isPPB) {\n                    let ppvForPerson = f.perPersonValue.find(pv => pv.id === person.id) || {value:0}\n                    item.amount = ppvForPerson.value\n                } else item.amount = f.value\n                if(item.isPerHead) item.amount /= personInvoice.head_count\n                item.amount = Math.round(item.amount,0)\n                if(item.amount > 0) {\n                    let itemSum = item.amount\n                    itemSum *= item.isPerHead ? personInvoice.head_count : 1\n                    itemSum *= item.isPerMonth ? personInvoice.months : 1\n                    personInvoice.sum += itemSum\n                    personInvoice.particulars.push(item)\n                }\n            })\n\n            let days = moment().diff(moment(person.startdate), 'days')\n            if(days<30) {\n                personInvoice.prodata = {\n                    isProdata: true,\n                    days: days,\n                    maxDays: moment(person.startdate).daysInMonth()\n                }\n            } else personInvoice.prodata = { isProdata: false }\n            //prodata for vacate\n            db.addInvoice(person, personInvoice)\n            generatedInvoices.push({person: person, invoice: personInvoice})\n        })\n        setSuccessOverlay(true)\n        setRedirectProps(generatedInvoices)\n        setTimeout(() => setRedirect('invoice-summary'),500)\n    }\n\n    if (redirect) return <Redirect push to={{ pathname: redirect, state: redirectProps }} />\n    return (\n        <div>\n            <Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\">\n                <Navbar.Brand className=\"mx-auto\"><h3><b>Rent</b></h3></Navbar.Brand>\n            </Navbar>\n            <br /><br /><br /><br />\n            {\n                // Title\n            }\n            <center>\n                <h3><b className=\"fas\">{\"\\uf543\"}</b><b>&nbsp;&nbsp;New Invoice</b></h3>\n                <input name=\"billing-start\" style={{ display: 'inline-block', fontSize:16, fontWeight:'normal', backgroundColor:'#fafafa',color:'grey' }} defaultValue={moment().subtract(3,\"M\").format(\"YYYY-MM\")} type=\"month\" ref={register} onChange={() => setMonths(moment(getValues(\"billing-end\"),\"YYYY-MM\").diff(moment(getValues(\"billing-start\"),\"YYYY-MM\"),'months')+1)} className=\"editable-label-input\" />\n                <input name=\"billing-end\" style={{ display: 'inline-block', fontSize:16, fontWeight:'normal', backgroundColor:'#fafafa',color:'grey' }} defaultValue={moment().subtract(1,\"M\").format(\"YYYY-MM\")} type=\"month\" ref={register} onChange={() => setMonths(moment(getValues(\"billing-end\")).diff(moment(getValues(\"billing-start\")),'months')+1)} className=\"editable-label-input\" />\n            </center>\n            <br />\n            {\n                // Containers\n            }\n            <form onSubmit={handleSubmit((d) => generate(d))}>\n            {\n                formContent && formContent.map((item, i) => (\n                    <Fragment key={i}>\n                        <center>\n                            <h4><b className=\"fas\">{item.icon}</b>&nbsp;&nbsp;{item.title}</h4>\n                        </center>\n                        <div className='container'>\n                            <center>\n                                <div style={{ display: 'inline-flex', width: '100%' }}>\n                                    <center>\n                                        { item.title.includes('+/-') && <Circle small icon={\"\\uf068\"} style={{ margin: '0 5%', display: 'inline-block' }} onClick={() => step(i,-10)} />}\n                                        <input name={item.fieldname} style={{ display: 'inline-block', color: 'black', backgroundColor: 'white' }} type='number' pattern=\"[0-9]*\" value={item.value} ref={register} className=\"editable-label-input\" readOnly />\n                                        { item.title.includes('+/-') && <Circle small icon={\"\\uf067\"} style={{ margin: '0 5%', display: 'inline-block' }} onClick={() => step(i,10)} />}\n                                    </center>\n                                </div>\n                                <small style={{ display: 'inline-block', width: '40%', color: 'darkgrey' }}>{item.isPerHead ? \"per head\" : (item.isShared ? \"per house\" : \"\")}</small>\n                                <br /><br />\n                                {item.isPPB &&\n                                    <div style={{ display: 'inline-block', width: '80%' }}>\n                                        {\n                                            item.perPersonValue.map((v,vi) => (\n                                                <Circle key={v.id} small color=\"#5e09b8\" icon={\"\\uf007\"} title={v.value || \"0\"} titleStyle={{ color: 'darkgrey' }} style={{ margin: '0 4%' }} />\n                                            ))\n                                        }\n                                    </div>\n                                }\n                            </center>\n                            {item.isShared &&\n                                <div style={{ display: 'inline-flex', width: '40%', margin: '0 2% 3% 0' }}>\n                                    <div style={{ display: 'inline-block', width: '20%', marginRight: '8%' }}>\n                                        <CircleCondition small condition={item.isPerHead} onClick={() => updateHS(i)} color={['#006CFF', '#c20808']} icon={['\\uf0c0', '\\ue065']} />\n                                    </div>\n                                    <div style={{ display: 'inline-block', width: '80%', marginTop: '1%' }}>\n                                        <small style={{ display: 'inline-block', color: 'darkgrey' }}>{item.isPerHead ? \"Split Per Head\" : \"Per House\"}</small><br />\n                                    </div>\n                                </div>\n                            }\n                            {months > 1 &&\n                                <div style={{ display: 'inline-flex', width: '40%', margin: '0 2% 3% 0' }}>\n                                    <div style={{ display: 'inline-block', width: '20%', marginRight: '8%' }}>\n                                        <CircleCondition small condition={item.isPerMonth} onClick={() => updatePerMonth(i)} color={['#de3ea1', '#4bbde3']} icon={['\\uf073', '\\uf133']} />\n                                    </div>\n                                    <div style={{ display: 'inline-block', width: '80%', marginTop: '1%' }}>\n                                        <small style={{ display: 'inline-block', color: 'darkgrey' }}>{item.isPerMonth ? \"Per Month\" : `For ${months} Months`}</small><br />\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                        <br /><br />\n                    </Fragment>\n                ))\n            }\n            <center>\n            <button type=\"submit\" className=\"overlay-button\" style={{backgroundColor:'#006CFF', color:'white', width:'90%'}}>Create</button>\n            </center>\n            </form>\n            <br /><br />\n            <Overlay  style={{transition:'.3s ease'}} visible={successOverlay} height={25}>\n                <center><div className=\"fas\" style={{color:'#07ab0a',fontSize:90,marginTop:'5%'}}>{\"\\uf00c\"}</div></center>\n            </Overlay>\n        </div>\n    )\n}\n\nexport default GenerateInvoice;\n","import Navbar from 'react-bootstrap/Navbar'\nimport React, { useState} from 'react';\nimport moment from 'moment';\nimport { Redirect } from 'react-router';\n\nfunction InvoicesSummary(props) {\n    const [redirect, setRedirect] = useState();\n\tconst [redirectProps, setRedirectProps] = useState();\n\n    let invoices = props.location.state || []\n\n    if (redirect) return <Redirect push to={{ pathname: redirect, state: redirectProps }} />\n    return (\n        <div>\n            <Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\">\n                <Navbar.Brand className=\"mx-auto\"><h3><b>Rent</b></h3></Navbar.Brand>\n            </Navbar>\n            <br /><br /><br /><br />\n            {\n                // Title\n            }\n            <center>\n                <h3><b className=\"fas\">{\"\\uf543\"}</b><b>&nbsp;&nbsp;Summary</b></h3>\n                <small style={{ display: 'inline-block', color: 'darkgrey' }}>{`${moment(invoices[0].invoice.billing_start,\"YYYY-MM\").format(\"MMMM, YYYY\")} to ${moment(invoices[0].invoice.billing_end,\"YYYY-MM\").format(\"MMMM, YYYY\")}`}</small>\n            </center>\n            <br />\n            {\n                // Containers\n            }\n            {\n                invoices.map((item,i) =>\n                    <div className='container' key={i} style={{cursor:'pointer'}} onClick={() => {setRedirectProps(item); setRedirect('/invoice')}}>\n                        <div style={{ display: 'inline-flex', width: '100%' }}>\n                            <b className=\"fas\" style={{ display: 'inline-block', width: '10%', margin: '-1% 1% 2% 3%', fontSize: '40px', color:'#0e8587' }}>{\"\\uf570\"}</b>\n                            <div style={{ marginLeft: '5%' }}><small style={{ display: 'inline-block' }}>{item.person.profile.name}</small>\n                                <h4 style={{ marginTop: '-1%' }}><b className=\"fas\" style={{ fontSize: 20 }}>{\"\\uf156\"}</b>&nbsp;<b>{item.invoice.sum}</b></h4></div>\n                        </div>\n                    </div>\n                )\n            }\n            <br/><br />\n            <center>\n            <button className=\"overlay-button\" style={{backgroundColor:'#006CFF', color:'white', width:'90%'}} onClick={() => setRedirect('/')}>Done</button>\n            </center>\n            <br /><br />\n        </div>\n    )\n}\n\nexport default InvoicesSummary;\n","import React from 'react';\nimport { Document, Page, Text, View, StyleSheet, PDFViewer } from '@react-pdf/renderer';\nimport moment from 'moment';\nimport DB from './DB';\n\nvar db = new DB()\n\n\nvar a = ['','One ','Two ','Three ','Four ', 'Five ','Six ','Seven ','Eight ','Nine ','Ten ','Eleven ','Twelve ','Thirteen ','Fourteen ','Fifteen ','Sixteen ','Seventeen ','Eighteen ','Nineteen '];\nvar b = ['', '', 'Twenty','Thirty','Forty','Fifty', 'Sixty','Seventy','Eighty','Ninety'];\n\nconst inWords = (num) => {\n    if ((num = num.toString()).length > 9) return 'overflow';\n    let n = ('000000000' + num).substr(-9).match(/^(\\d{2})(\\d{2})(\\d{2})(\\d{1})(\\d{2})$/);\n    if (!n) return; var str = '';\n    str += (Number(n[3]) !== 0) ? (a[Number(n[3])] || b[n[3][0]] + ' ' + a[n[3][1]]) + 'Thousand ' : '';\n    str += (Number(n[4]) !== 0) ? (a[Number(n[4])] || b[n[4][0]] + ' ' + a[n[4][1]]) + 'Hundred ' : '';\n    str += (Number(n[5]) !== 0) ? ((str !== '') ? 'and ' : '') + (a[Number(n[5])] || b[n[5][0]] + ' ' + a[n[5][1]]) + 'only. ' : '';\n    return str;\n}\n\nconst styles = StyleSheet.create({\n    page: { padding: '5%' },\n    small: { color: 'darkgrey', fontSize: 10 },\n    id: { position: 'absolute', top: '3%', right: '4%' },\n    h1: { fontSize: 30, fontWeight: 'bold' },\n    table: { display: \"table\", width: \"auto\", borderStyle: \"solid\", borderWidth: 1, borderRightWidth: 0, borderBottomWidth: 0 },\n    tr: { margin: \"auto\", flexDirection: \"row\" },\n    tcol: { width: \"20%\", borderStyle: \"solid\", borderWidth: 1, borderLeftWidth: 0, borderTopWidth: 0 },\n    tcell: { margin: \"auto\", marginTop: 5, fontSize: 10 },\n    total: { fontSize:14, fontWeight: 'bold', textAlign:'right'},\n    footer: { textAlign:'center', fontSize:8 },\n    sign: { fontSize:10, width:'100%',flexDirection: 'row' }\n});\n\nexport function Invoice(props) {\n    let invoice = props.location.state.invoice\n    let person = props.location.state.person\n    let idParts = db.parseId(person.id)\n    let address = idParts.building === \"86\" ? \"BTM 4th Stage, 2nd Block,\\nVijaya Bank Layout\" : \"Vinayaka Nagar,\\nNyanapanhalli\"\n\n    let proDataMultiplier = invoice.prodata.isProdata ? invoice.prodata.days/invoice.prodata.maxDays : 1\n    let sum = Math.round(invoice.sum*proDataMultiplier,0)\n\n    const getQty = (item) => {\n        let qty = 1\n        if(item.isPerHead) qty *= invoice.head_count\n        if(item.isPerMonth) qty *= invoice.months\n        return qty\n    }\n\n    return (\n        <PDFViewer width=\"100%\" height={window.innerHeight}>\n            <Document>\n                <Page size=\"A4\" style={styles.page}>\n                    <Text style={[styles.small, styles.id]}>{invoice.id}</Text>\n                    <Text style={styles.h1}>{invoice.type.charAt(0).toUpperCase() + invoice.type.slice(1)} Invoice{'\\n'}</Text>\n                    <Text style={styles.small}>{moment(invoice.date).format(\"Do MMMM, YYYY\")}</Text>\n                    <View style={styles.small}>\n                        <Text>{`\\n\\n${person.profile.name}\\n${idParts.floor === 0 ? 'G' : idParts.floor}0${idParts.door}, #${idParts.building},\\n${address}, Bengaluru - 560076\\n\\n\\n`}</Text>\n                        <Text>{`Billing Period: ${moment(invoice.billing_start,\"YYYY-MM\").format(\"MMMM, YYYY\")} to ${moment(invoice.billing_end,\"YYYY-MM\").format(\"MMMM, YYYY\")}\\nNo of. heads: ${invoice.head_count}\\n\\n\\n`}</Text>\n                    </View>\n                    <View style={styles.table}>\n                        <View style={styles.tr}>\n                            <View style={[styles.tcol,{width:'5%'}]}>\n                                <Text style={styles.tcell}>Sl.</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'70%'}]}>\n                                <Text style={[styles.tcell,{justifyContent:'flex-start'}]}>Particulars</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'10%'}]}>\n                                <Text style={styles.tcell}>Unit Price (INR)</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'5%'}]}>\n                                <Text style={styles.tcell}>Qty</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'10%'}]}>\n                                <Text style={styles.tcell}>Net Price (INR)</Text>\n                            </View>\n                        </View>\n                        {\n                            invoice.particulars.map((item, i) =>\n                                <View style={styles.tr} key={i}>\n                                    <View style={[styles.tcol,{width:'5%'}]}>\n                                        <Text style={styles.tcell}>{i+1}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'70%',justifyContent:'flex-start'}]}>\n                                        <Text style={styles.tcell}>\n                                            {item.item} {item.isPerMonth? ` ( x ${invoice.months} months)` : ''} {item.isPerHead ? ` ( x ${invoice.head_count} heads)` : ''}\n                                            {invoice.prodata.isProdata ? `\\n(Calculated as per prodata basis for ${invoice.prodata.days} days: price*(${invoice.prodata.days}/${invoice.prodata.maxDays}))` : ''}\n                                        </Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'10%'}]}>\n                                        <Text style={styles.tcell}>{item.amount}/-</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'5%'}]}>\n                                        <Text style={styles.tcell}>{getQty(item)}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'10%'}]}>\n                                        <Text style={styles.tcell}>{Math.round(item.amount*getQty(item)*proDataMultiplier,0)}/-</Text>\n                                    </View>\n                                </View>\n                            )\n                        }\n                    </View>\n                    <Text style={styles.total}>{'\\n\\n'}Net Payable: INR. {sum}/-</Text>\n                    <Text style={[styles.total,{fontSize:10,position:'relative',top:'-1%'}]}>{'\\n'}In Words: Rupees {inWords(sum)}</Text>\n                    <View>\n                    <Text style={[styles.small,styles.footer]}>{'\\n\\n\\n\\n\\n\\n'}This is a computer generated invoice and does not require signature while being shared electronically.</Text>\n                    </View>\n                </Page>\n            </Document>\n        </PDFViewer>\n    )\n}\n\nexport function Adjustment(props) {\n    let person = props.location.state.person\n\n    let start = props.location.state.start\n    let end = props.location.state.end\n\n    let type = props.location.state.type\n\n    let less = props.location.state.less\n    let lessTotal = props.location.state.lessTotal\n    let sum = person.advance - lessTotal\n    let rent = db.getExpectedRent(person,person.payment_history.length).housing\n\n    let idParts = db.parseId(person.id)\n    let address = idParts.building === \"86\" ? \"BTM 4th Stage, 2nd Block,\\nVijaya Bank Layout\" : \"Vinayaka Nagar,\\nNyanapanhalli\"\n\n    const finalRent = () => {\n        return Math.round(rent * moment(end).date()/moment(end).daysInMonth(),0)\n    }\n\n    if(type === 'settlement') {\n        less.forEach(l => {\n            if(l.reason.includes(moment().format(\"MMM YY\")))\n                sum += rent\n        })\n        sum -= finalRent() + rent\n    }\n\n    return (\n        <PDFViewer width=\"100%\" height={window.innerHeight}>\n            <Document>\n                <Page size=\"A4\" style={styles.page}>\n                    <Text style={styles.h1}>{type.charAt(0).toUpperCase() + type.slice(1)} Invoice{'\\n'}</Text>\n                    <Text style={styles.small}>{moment().format(\"Do MMMM, YYYY\")}</Text>\n                    <View style={styles.small}>\n                        <Text>{`\\n\\n${person.profile.name}\\n${idParts.floor === 0 ? 'G' : idParts.floor}0${idParts.door}, #${idParts.building},\\n${address}, Bengaluru - 560076\\n\\n\\n`}</Text>\n                        <Text>{`${type.charAt(0).toUpperCase() + type.slice(1)} Period: ${type === 'adjustment' ? start : moment(person.startdate).format(\"Do MMMM, YYYY\")} to ${type === 'adjustment' ? end : moment(end).format(\"Do MMMM, YYYY\")}\\n\\n\\n`}</Text>\n                    </View>\n                    <View style={styles.table}>\n                        <View style={styles.tr}>\n                            <View style={[styles.tcol,{width:'5%'}]}>\n                                <Text style={styles.tcell}>Sl.</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'65%'}]}>\n                                <Text style={[styles.tcell,{justifyContent:'flex-start'}]}>Particulars</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'15%'}]}>\n                                <Text style={styles.tcell}>Credit (INR)</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'15%'}]}>\n                                <Text style={styles.tcell}>Debit (INR)</Text>\n                            </View>\n                        </View>\n                        <View style={styles.tr}>\n                            <View style={[styles.tcol,{width:'5%'}]}>\n                                <Text style={styles.tcell}>1</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'65%',justifyContent:'flex-start'}]}>\n                                <Text style={styles.tcell}>Security Deposit</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'15%'}]}>\n                                <Text style={styles.tcell}>{person.advance}/-</Text>\n                            </View>\n                            <View style={[styles.tcol,{width:'15%'}]}>\n                                <Text style={styles.tcell}></Text>\n                            </View>\n                        </View>\n                        {\n                            less.filter(l => l.amount!==0 && !l.reason.includes(moment().format(\"MMM YY\"))).map((item, i) =>\n                                <View style={styles.tr} key={i}>\n                                    <View style={[styles.tcol,{width:'5%'}]}>\n                                        <Text style={styles.tcell}>{i+2}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'65%',justifyContent:'flex-start'}]}>\n                                        <Text style={styles.tcell}>Less: {item.reason}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}></Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}>{item.amount}/-</Text>\n                                    </View>\n                                </View>\n                            )\n                        }\n                        {\n                            type === 'settlement' &&\n                                <View style={styles.tr}>\n                                    <View style={[styles.tcol,{width:'5%'}]}>\n                                        <Text style={styles.tcell}>{less.filter(l => l.amount!==0).length+2}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'65%',justifyContent:'flex-start'}]}>\n                                        <Text style={styles.tcell}>Less: Rent for {moment(end).format('MMM YYYY')}{'\\n'}(Calculated as per prodata basis for {moment(end).date()} days: x {moment(end).date()}/{moment(end).daysInMonth()})</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}></Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}>{finalRent()}/-</Text>\n                                    </View>\n                                </View>\n                        }\n                        {\n                            type === 'settlement' &&\n                                <View style={styles.tr}>\n                                    <View style={[styles.tcol,{width:'5%'}]}>\n                                        <Text style={styles.tcell}>{less.filter(l => l.amount!==0).length+3}</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'65%',justifyContent:'flex-start'}]}>\n                                        <Text style={styles.tcell}>Less: Painting (One month rent)</Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}></Text>\n                                    </View>\n                                    <View style={[styles.tcol,{width:'15%'}]}>\n                                        <Text style={styles.tcell}>{rent}/-</Text>\n                                    </View>\n                                </View>\n                        }\n                    </View>\n                    <Text style={styles.total}>{'\\n\\n'}Net {sum >= 0 ? 'Receivable' : 'Payable'}: INR. {sum >= 0 ? sum : -sum}/-</Text>\n                    <Text style={[styles.total,{fontSize:10,position:'relative',top:'-1%'}]}>{'\\n'}In Words: Rupees {inWords(sum >= 0 ? sum : -sum)}</Text>\n                    {\n                        type === 'settlement' &&\n                        <View><Text>{'\\n\\n\\n'}</Text>\n                        <View style={[styles.sign]}>\n                            <Text style={{width:'50%', flexGrow: 1, textAlign:'left', paddingLeft:'5%'}}>R. Maqsood</Text>\n                            <Text style={{width:'50%', flexGrow: 1, textAlign:'right', float:'right', paddingRight:'8%'}}>{person.profile.name}</Text>\n                        </View>\n                        </View>\n                    }\n                    \n                    <View>\n                    {type !== 'settlement' && <Text style={[styles.small,styles.footer]}>{'\\n\\n\\n\\n\\n\\n'}This is a computer generated invoice and does not require signature while being shared electronically.</Text>}\n                    </View>\n                </Page>\n            </Document>\n        </PDFViewer>\n    )\n}\n\n// export default Invoice","import React ,{ Fragment, useEffect ,useState}from 'react';\nimport Button from 'react-bootstrap/Button'\nimport Navbar from 'react-bootstrap/Navbar'\nimport { useForm } from \"react-hook-form\";\nimport Form from 'react-bootstrap/Form';\nimport {Overlay,HeadCountBox} from './Components';\nimport { Redirect } from 'react-router';\nimport DB from './DB';\n\nvar db = new DB()\n\nfunction AddPerson(props){\n\tconst [selectedTennant, setSelectedTennant] = useState();\n\tconst { register, handleSubmit } = useForm()\n\tconst [addpersonOverlay, setaddpersonOverlay] = useState(false);\n\tconst [redirect, setRedirect] = useState();\n\tconst [checkForm, setcheckForm] = useState(true);\n\n\tconst checkFormValue = (d) => {\n\t\t\tObject.keys(d).forEach(i => {\n\t\t\t\t\tif(d[i]===undefined) setcheckForm(false)\n\t\t\t\t})\n\t\t\tconsole.log(checkForm);\n\t}\n\n\tconst testSubmitHandler = (d) => {\n\t\tvar data={\n\t\t\tid:props.location.state,\n\t\t\tstartdate:d.startdate,\n\t\t\tadvance:parseInt(d.advance),\n\t\t\tbase_rent:parseInt(d.base_rent),\n\t\t\twater:parseInt(d.water),\n\t\t\tprofile:\n\t\t\t\t{\n\t\t\t\tname:d.name,\n\t\t\t\thead_count:parseInt(d.head_count),\n\t\t\t\tmobile:d.mobile\n\t\t\t\t}\n\t\t\t}\n\t\tcheckFormValue(data)\n\t\tif (checkForm)\tdb.addUser(d.id,data)\n\t\telse return false\n\t}\n\n\tif (redirect)\n\t\treturn <Redirect push to={{\n\t\t\tpathname: redirect,\n\t\t}}\n\t\t/>\n\n\treturn(\n\t\t<Fragment>\n\t\t<br/>\n\t\t<Navbar bg=\"primary\" variant=\"dark\" fixed=\"top\">\n\t\t\t<Navbar.Brand className=\"mx-auto\"><h3><b>Rent</b></h3></Navbar.Brand>\n\t\t</Navbar>\n\t\t<br /><br /><br />\n\t\t{\n\t\t\t// Title\n\t\t}\n\t\t<center>\n\t\t\t<h3><b className=\"fas\">{\"\\uf234\"}</b><b>&nbsp;&nbsp;Add User</b></h3>\n\t\t</center>\n\t\t<br />\n\t\t<Form style={{marginLeft:'5%',marginRight:'5%'}} onSubmit={handleSubmit (d => testSubmitHandler(d))}>\n\t\t\t<Form.Group >\n\t\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t\t<div style={{display:'inline-block',marginRight:'5%',fontSize:28}} className=\"fas\">{\"\\uf2bd\"}</div>\n\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"Name\" ref={register} name='name' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<Form.Group  >\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t<div style={{display:'inline-block',marginRight:'6%',fontSize:28}} className=\"fas\">{\"\\uf073\"}</div>\n\t\t\t\t<Form.Control type=\"date\" placeholder=\"startdate\" ref={register} name='startdate' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<Form.Group  >\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t<div style={{display:'inline-block',marginRight:'3%',fontSize:28}} className=\"fas\">{\"\\uf3d1\"}</div>\n\t\t\t\t<Form.Control type=\"number\" placeholder=\"Advance\" ref={register} name='advance' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<Form.Group  >\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t<div style={{display:'inline-block',marginRight:'8%',fontSize:28}} className=\"fas\">{\"\\uf156\"}</div>\n\t\t\t\t<Form.Control type=\"number\" placeholder=\"Base Rent\" ref={register} name='base_rent' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<Form.Group  >\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t<div style={{display:'inline-block',marginRight:'5%',fontSize:28}} className=\"fas\">{\"\\uf879\"}</div>\n\t\t\t\t<Form.Control type=\"number\" placeholder=\"Mobile\" ref={register} name='mobile' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<Form.Group  >\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t\t<div style={{display:'inline-block',marginRight:'7%',fontSize:28}} className=\"fas\">{\"\\uf043\"}</div>\n\t\t\t\t<Form.Control type=\"number\" placeholder=\"Water\" ref={register} name='water' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t</div>\n\t\t\t</Form.Group><br/>\n\t\t\t<div style={{display:'inline-flex',width:'100%'}}>&nbsp;&nbsp;\n\t\t\t\t<HeadCountBox style={{display:'inline-flex',width:'30%',fontSize:38,paddingLeft: '10%'}} ><div className=\"fas\">{\"\\uf007\"}</div></HeadCountBox>&nbsp;&nbsp;\n\t\t\t\t<HeadCountBox style={{display:'inline-flex',width:'30%',fontSize:38,paddingLeft: '8%'}} ><div className=\"fas\">{\"\\uf500\"}</div></HeadCountBox>&nbsp;&nbsp;\n\t\t\t\t<HeadCountBox style={{display:'inline-flex',width:'30%',fontSize:38,paddingLeft: '8%'}} ><div className=\"fas\">{\"\\uf0c0\"}</div></HeadCountBox>&nbsp;&nbsp;\n\t\t\t</div><br/><br/><br/>\n\t\t\t{\n\t\t\t// <Form.Group  >\n\t\t\t// <div style={{display:'inline-flex',width:'100%'}}>\n\t\t\t// \t<div style={{display:'inline-block',marginRight:'3%',fontSize:28}} className=\"fas\">{\"\\uf500\"}</div>\n\t\t\t// \t<Form.Control type=\"number\" placeholder=\"Head Count\" ref={register} name='head_count' style={{borderBottom: \"2px solid darkgrey\",borderTop:'none',borderLeft:'none',borderRight:'none'}}/>\n\t\t\t// </div>\n\t\t\t// </Form.Group><br/>\n\t\t\t}\n\t\t\t  <center> <Button variant=\"primary\" onClick={() => {setTimeout(() => setRedirect('/'), 1500); {checkForm? setaddpersonOverlay(true): setaddpersonOverlay(false)} }} type=\"submit\" size=\"lg\" block><b>Submit</b></Button></center>\n\t\t</Form>\n\t\t<Overlay  style={{transition:'1s ease'}}visible={addpersonOverlay} bgClick={() => setaddpersonOverlay(!addpersonOverlay)} height={25}>\n\t\t\t<center><div className=\"fas\" style={{color:'#07ab0a',fontSize:90,marginTop:'5%'}}>{\"\\uf00c\"}</div></center>\n\t\t</Overlay>\n\t\t</Fragment>\n\t)\n}\n\nexport default AddPerson;\n","import React from 'react';\nimport Main from './Main';\nimport Details from './Details';\nimport GenerateInvoice from './GenerateInvoice';\nimport InvoicesSummary from './InvoicesSummary';\nimport { Invoice, Adjustment} from './Invoice';\nimport AddPerson from './AddPerson';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nfunction App() {\n   return (\n      <Router>\n         <div className=\"App\">\n            <Route exact path=\"/\" component={Main} />\n            <Route path=\"/details\" render={(props) => <Details {...props} />} />\n            <Route path=\"/add-person\" render={(props) => <AddPerson {...props} />} />\n            <Route path=\"/generate-invoice\" render={(props) => <GenerateInvoice {...props} />} />\n            <Route path=\"/invoice-summary\" render={(props) => <InvoicesSummary {...props} />} />\n            <Route path=\"/invoice\" render={(props) => <Invoice {...props} />} />\n            <Route path=\"/adjustment\" render={(props) => <Adjustment {...props} />} />\n         </div>\n      </Router>\n   );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}